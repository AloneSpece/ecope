/* Lazyload component for jQuery ( AMD Module ) | MIT Licenses | 2014-09-28 */
define(function(){var q={type:"img",trigger:"scroll",container:window,axis:"y",threshold:0,duration:400,attrName:"data-lazysrc"};$.fn.__offset__=function(){var a={top:0,left:0},b=this[0];return b&&1===b.nodeType?{top:b.offsetTop,left:b.offsetLeft}:a};var e={triggerHandle:function(a,b){var c=a.threshold,d=a.scroll;return b.offsetReverse>=d-c&&b.offsetForward<=a.size+d+c},load:{img:function(a,b,c){var d=a.attrName,k;if("IMG"===b[0].tagName&&(k=b.attr(d))){if(a.effects&&c)b.css("visibility","hidden").one("load",
function(){e.effects[a.effects](a,this)});b[0].src=k;b.removeData("offset").removeAttr(d)}},dom:function(a,b){var c=b.val(),d;"TEXTAREA"===b[0].tagName&&(d=b.parent(),d.html(c),d.trigger("likeload"),b.remove())}},effects:{fade:function(a,b){$(b).css({display:"none",visibility:""}).fadeIn(a.duration)}}};$.each({slideX:["left","width"],slideY:["top","height"]},function(a,b){var c=b[0],d=b[1];e.effects[a]=function(b,a){a=$(a);var f=a.parent(),h={},e={};h[c]="-"+a[d]()+"px";e[c]="0px";f.css({overflow:"hidden",
position:"relative"});a.css({position:"relative",visibility:""}).css(h).animate(e,b.duration,function(){a.css({position:"",top:"",left:""});f.css({overflow:"",position:""})})}});var n=function(a,b){a=$(a);b=b||{};if(a.length){var c=$.extend({},q,b),d="y"===c.axis,k=$(window),r=c.type,f=$(c.container),h=$.makeArray(a),n=e.triggerHandle,s=d?"top":"left",l="scroll"===c.trigger,p=$.isWindow(f[0]),t=p?"offset":"__offset__",u=d?"height":"width",v=d?"outerHeight":"outerWidth",w=d?"scrollTop":"scrollLeft";
if(h&&h.length){c.originalScroll=0;c.isReverse=null;d=function(a){var b=0,d=!1,g,l,m;c.scroll=f[w]();c.size=f[u]();c.isReverse=c.scroll<c.originalScroll?!0:!1;c.originalScroll=c.scroll;a&&(m=a.type,"scroll"!==m&&"resize"!==m&&(d=!0));for(;b<h.length;b++)a=$(h[b]),d?g=d:(g=a.data("offset"),void 0===g&&(l=a.parent(),g=l[t]()[s],g={offsetForward:g,offsetReverse:g+l[v]()},a.data("offset",g)),g=n(c,g)),g&&(e.load[r](c,a,"scroll"===m),h.splice(b--,1));h.length||(f.off(m+".lazyload"),k.off("resize.lazyload"),
h=null)};(l?f:a)[l?"on":"one"](c.trigger+".lazyload",d);if(p)k.on("resize.lazyload",d);l&&d({type:"scroll"});c.target=a;this.__o__=c}}};n.prototype={on:function(a,b){if(!this.__o__)return this;var c=this.__o__,d=this,k=c.target,e="img"===c.type?a:"like"+a,f=function(c){$(this).off(e);c.type=a;b.call(d,c);c.stopPropagation()};if("img"===c.type)k.on(e,f);else k.each(function(){$(this).parent().on(e,f)});return this}};$.ui||($.ui={});$.ui.Lazyload=n});
